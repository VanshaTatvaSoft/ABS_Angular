<div class="d-flex justify-content-between align-items-center px-5 mt-2">
  <h1>Provider</h1>
  <div class="d-flex align-items-center justify-content-center">
    <div class="me-2">
      <input type="text" class="form-control" placeholder="Search" [formControl]="searchControl">
    </div>
    <div class="me-2">
      <button mat-raised-button color="primary" (click)="exportToPdf()">Export To PDF
        <mat-icon>picture_as_pdf</mat-icon>
      </button>
    </div>
    <div>
      <button mat-raised-button color="primary" (click)="openAddProviderDailog()"><mat-icon>add</mat-icon> Add Provider</button>
    </div>
  </div>
</div>

<div class="px-5">
  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" (selectedIndexChange)="onTabChange($event)">
    <mat-tab label="All"></mat-tab>
    @for (service of data.serviceList; track service.serviceId) {
      <mat-tab [label]="service.serviceName">
      </mat-tab>
    }
  </mat-tab-group>

  <ng-template #actionBtns let-row>
    <button matMiniFab color="primary" class="mt-1 mx-2" (click)="OpenEditProviderDailog(row.providerId)">
      <mat-icon>edit</mat-icon>
    </button>
    <button matMiniFab color="primary" class="mt-1 mx-2" (click)="deleteProvider(row.providerId)">
      <mat-icon>delete</mat-icon>
    </button>
    <!-- Assign Service -->
    <button matMiniFab color="primary" class="mt-1 mx-2" (click)="openAssignServiceDialog(row.providerId)">
      <mat-icon><i class="bi bi-person-check-fill"></i></mat-icon>
    </button>
  </ng-template>

  <div class="card mt-3">
    <span id="MyBookingListContainer">
      <div class="card-body p-0 mb-4" style="overflow-y: auto;">
        <app-generic-table
          [data]="data.providerList"
          [columns]="columns"
          [totalCount]="totalCount"
          [pageSize]="pageSize"
          [pageNumber]="page"
          [columnTemplates]="{ actions: actionBtns }"
          (pageChange)="onPageChange($event)"
          (sortChange)="onSortChange($event)">
        </app-generic-table>
      </div>
    </span>
  </div>
</div>
